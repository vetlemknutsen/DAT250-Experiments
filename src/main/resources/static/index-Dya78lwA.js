var Ee=Object.defineProperty;var Re=(e,t,o)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var wt=(e,t,o)=>Re(e,typeof t!="symbol"?t+"":t,o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=o(l);fetch(l.href,r)}})();function y(){}const fe=e=>e;function ut(e,t){for(const o in t)e[o]=t[o];return e}function Te(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function pe(e){return e()}function Vt(){return Object.create(null)}function D(e){e.forEach(pe)}function ft(e){return typeof e=="function"}function G(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function je(e){return Object.keys(e).length===0}function de(e,...t){if(e==null){for(const n of t)n(void 0);return y}const o=e.subscribe(...t);return o.unsubscribe?()=>o.unsubscribe():o}function Y(e,t,o){e.$$.on_destroy.push(de(t,o))}function Lt(e,t,o,n){if(e){const l=_e(e,t,o,n);return e[0](l)}}function _e(e,t,o,n){return e[1]&&n?ut(o.ctx.slice(),e[1](n(t))):o.ctx}function qt(e,t,o,n){if(e[2]&&n){const l=e[2](n(o));if(t.dirty===void 0)return l;if(typeof l=="object"){const r=[],s=Math.max(t.dirty.length,l.length);for(let i=0;i<s;i+=1)r[i]=t.dirty[i]|l[i];return r}return t.dirty|l}return t.dirty}function At(e,t,o,n,l,r){if(l){const s=_e(t,o,n,r);e.p(s,l)}}function It(e){if(e.ctx.length>32){const t=[],o=e.ctx.length/32;for(let n=0;n<o;n++)t[n]=-1;return t}return-1}function zt(e){const t={};for(const o in e)o[0]!=="$"&&(t[o]=e[o]);return t}const he=typeof window<"u";let me=he?()=>window.performance.now():()=>Date.now(),Ut=he?e=>requestAnimationFrame(e):y;const x=new Set;function ge(e){x.forEach(t=>{t.c(e)||(x.delete(t),t.f())}),x.size!==0&&Ut(ge)}function be(e){let t;return x.size===0&&Ut(ge),{promise:new Promise(o=>{x.add(t={c:e,f:o})}),abort(){x.delete(t)}}}function g(e,t){e.appendChild(t)}function ke(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Le(e){const t=S("style");return t.textContent="/* empty */",qe(ke(e),t),t.sheet}function qe(e,t){return g(e.head||e,t),t.sheet}function P(e,t,o){e.insertBefore(t,o||null)}function C(e){e.parentNode&&e.parentNode.removeChild(e)}function vt(e,t){for(let o=0;o<e.length;o+=1)e[o]&&e[o].d(t)}function S(e){return document.createElement(e)}function F(e){return document.createTextNode(e)}function T(){return F(" ")}function V(){return F("")}function A(e,t,o,n){return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n)}function Ae(e){return function(t){return t.preventDefault(),e.call(this,t)}}function $(e,t,o){o==null?e.removeAttribute(t):e.getAttribute(t)!==o&&e.setAttribute(t,o)}function Ie(e){return Array.from(e.childNodes)}function pt(e,t){t=""+t,e.data!==t&&(e.data=t)}function nt(e,t){e.value=t??""}function Mt(e,t,o,n){o==null?e.style.removeProperty(t):e.style.setProperty(t,o,"")}function Ft(e,t,o){e.classList.toggle(t,!!o)}function Ue(e,t,{bubbles:o=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:o,cancelable:n})}function Ht(e,t){return new e(t)}const mt=new Map;let gt=0;function Me(e){let t=5381,o=e.length;for(;o--;)t=(t<<5)-t^e.charCodeAt(o);return t>>>0}function De(e,t){const o={stylesheet:Le(t),rules:{}};return mt.set(e,o),o}function ye(e,t,o,n,l,r,s,i=0){const c=16.666/n;let u=`{
`;for(let _=0;_<=1;_+=c){const w=t+(o-t)*r(_);u+=_*100+`%{${s(w,1-w)}}
`}const a=u+`100% {${s(o,1-o)}}
}`,f=`__svelte_${Me(a)}_${i}`,m=ke(e),{stylesheet:h,rules:p}=mt.get(m)||De(m,e);p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${a}`,h.cssRules.length));const d=e.style.animation||"";return e.style.animation=`${d?`${d}, `:""}${f} ${n}ms linear ${l}ms 1 both`,gt+=1,f}function Nt(e,t){const o=(e.style.animation||"").split(", "),n=o.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),l=o.length-n.length;l&&(e.style.animation=n.join(", "),gt-=l,gt||Be())}function Be(){Ut(()=>{gt||(mt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&C(t)}),mt.clear())})}let at;function B(e){at=e}function dt(){if(!at)throw new Error("Function called outside component initialization");return at}function ve(e){dt().$$.on_mount.push(e)}function Ve(e){dt().$$.on_destroy.push(e)}function St(e,t){return dt().$$.context.set(e,t),t}function Et(e){return dt().$$.context.get(e)}const X=[],Gt=[];let tt=[];const Yt=[],ze=Promise.resolve();let Rt=!1;function Fe(){Rt||(Rt=!0,ze.then(Dt))}function ot(e){tt.push(e)}const Ct=new Set;let Q=0;function Dt(){if(Q!==0)return;const e=at;do{try{for(;Q<X.length;){const t=X[Q];Q++,B(t),He(t.$$)}}catch(t){throw X.length=0,Q=0,t}for(B(null),X.length=0,Q=0;Gt.length;)Gt.pop()();for(let t=0;t<tt.length;t+=1){const o=tt[t];Ct.has(o)||(Ct.add(o),o())}tt.length=0}while(X.length);for(;Yt.length;)Yt.pop()();Rt=!1,Ct.clear(),B(e)}function He(e){if(e.fragment!==null){e.update(),D(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ot)}}function Ge(e){const t=[],o=[];tt.forEach(n=>e.indexOf(n)===-1?t.push(n):o.push(n)),o.forEach(n=>n()),tt=t}let it;function we(){return it||(it=Promise.resolve(),it.then(()=>{it=null})),it}function bt(e,t,o){e.dispatchEvent(Ue(`${t?"intro":"outro"}${o}`))}const ht=new Set;let z;function lt(){z={r:0,c:[],p:z}}function rt(){z.r||D(z.c),z=z.p}function j(e,t){e&&e.i&&(ht.delete(e),e.i(t))}function L(e,t,o,n){if(e&&e.o){if(ht.has(e))return;ht.add(e),z.c.push(()=>{ht.delete(e),n&&(o&&e.d(1),n())}),e.o(t)}else n&&n()}const Se={duration:0};function Ye(e,t,o){const n={direction:"in"};let l=t(e,o,n),r=!1,s,i,c=0;function u(){s&&Nt(e,s)}function a(){const{delay:m=0,duration:h=300,easing:p=fe,tick:d=y,css:_}=l||Se;_&&(s=ye(e,0,1,h,m,p,_,c++)),d(0,1);const w=me()+m,v=w+h;i&&i.abort(),r=!0,ot(()=>bt(e,!0,"start")),i=be(k=>{if(r){if(k>=v)return d(1,0),bt(e,!0,"end"),u(),r=!1;if(k>=w){const E=p((k-w)/h);d(E,1-E)}}return r})}let f=!1;return{start(){f||(f=!0,Nt(e),ft(l)?(l=l(n),we().then(a)):a())},invalidate(){f=!1},end(){r&&(u(),r=!1)}}}function Je(e,t,o){const n={direction:"out"};let l=t(e,o,n),r=!0,s;const i=z;i.r+=1;let c;function u(){const{delay:a=0,duration:f=300,easing:m=fe,tick:h=y,css:p}=l||Se;p&&(s=ye(e,1,0,f,a,m,p));const d=me()+a,_=d+f;ot(()=>bt(e,!1,"start")),"inert"in e&&(c=e.inert,e.inert=!0),be(w=>{if(r){if(w>=_)return h(0,1),bt(e,!1,"end"),--i.r||D(i.c),!1;if(w>=d){const v=m((w-d)/f);h(1-v,v)}}return r})}return ft(l)?we().then(()=>{l=l(n),u()}):u(),{end(a){a&&"inert"in e&&(e.inert=c),a&&l.tick&&l.tick(1,0),r&&(s&&Nt(e,s),r=!1)}}}function kt(e,t){const o=t.token={};function n(l,r,s,i){if(t.token!==o)return;t.resolved=i;let c=t.ctx;s!==void 0&&(c=c.slice(),c[s]=i);const u=l&&(t.current=l)(c);let a=!1;t.block&&(t.blocks?t.blocks.forEach((f,m)=>{m!==r&&f&&(lt(),L(f,1,1,()=>{t.blocks[m]===f&&(t.blocks[m]=null)}),rt())}):t.block.d(1),u.c(),j(u,1),u.m(t.mount(),t.anchor),a=!0),t.block=u,t.blocks&&(t.blocks[r]=u),a&&Dt()}if(Te(e)){const l=dt();if(e.then(r=>{B(l),n(t.then,1,t.value,r),B(null)},r=>{if(B(l),n(t.catch,2,t.error,r),B(null),!t.hasCatch)throw r}),t.current!==t.pending)return n(t.pending,0),!0}else{if(t.current!==t.then)return n(t.then,1,t.value,e),!0;t.resolved=e}}function Ce(e,t,o){const n=t.slice(),{resolved:l}=e;e.current===e.then&&(n[e.value]=l),e.current===e.catch&&(n[e.error]=l),e.block.p(n,o)}function H(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Jt(e,t){const o={},n={},l={$$scope:1};let r=e.length;for(;r--;){const s=e[r],i=t[r];if(i){for(const c in s)c in i||(n[c]=1);for(const c in i)l[c]||(o[c]=i[c],l[c]=1);e[r]=i}else for(const c in s)l[c]=1}for(const s in n)s in o||(o[s]=void 0);return o}function _t(e){return typeof e=="object"&&e!==null?e:{}}function et(e){e&&e.c()}function J(e,t,o){const{fragment:n,after_update:l}=e.$$;n&&n.m(t,o),ot(()=>{const r=e.$$.on_mount.map(pe).filter(ft);e.$$.on_destroy?e.$$.on_destroy.push(...r):D(r),e.$$.on_mount=[]}),l.forEach(ot)}function K(e,t){const o=e.$$;o.fragment!==null&&(Ge(o.after_update),D(o.on_destroy),o.fragment&&o.fragment.d(t),o.on_destroy=o.fragment=null,o.ctx=[])}function Ke(e,t){e.$$.dirty[0]===-1&&(X.push(e),Fe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function st(e,t,o,n,l,r,s=null,i=[-1]){const c=at;B(e);const u=e.$$={fragment:null,ctx:[],props:r,update:y,not_equal:l,bound:Vt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Vt(),dirty:i,skip_bound:!1,root:t.target||c.$$.root};s&&s(u.root);let a=!1;if(u.ctx=o?o(e,t.props||{},(f,m,...h)=>{const p=h.length?h[0]:m;return u.ctx&&l(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),a&&Ke(e,f)),m}):[],u.update(),a=!0,D(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const f=Ie(t.target);u.fragment&&u.fragment.l(f),f.forEach(C)}else u.fragment&&u.fragment.c();t.intro&&j(e.$$.fragment),J(e,t.target,t.anchor),Dt()}B(c)}class ct{constructor(){wt(this,"$$");wt(this,"$$set")}$destroy(){K(this,1),this.$destroy=y}$on(t,o){if(!ft(o))return y;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(o),()=>{const l=n.indexOf(o);l!==-1&&n.splice(l,1)}}$set(t){this.$$set&&!je(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Qe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Qe);const Kt={},Tt={},We={},Oe=/^:(.+)/,Qt=4,Xe=3,Ze=2,xe=1,tn=1,jt=e=>e.replace(/(^\/+|\/+$)/g,"").split("/"),Ot=e=>e.replace(/(^\/+|\/+$)/g,""),en=(e,t)=>{const o=e.default?0:jt(e.path).reduce((n,l)=>(n+=Qt,l===""?n+=tn:Oe.test(l)?n+=Ze:l[0]==="*"?n-=Qt+xe:n+=Xe,n),0);return{route:e,score:o,index:t}},nn=e=>e.map(en).sort((t,o)=>t.score<o.score?1:t.score>o.score?-1:t.index-o.index),Wt=(e,t)=>{let o,n;const[l]=t.split("?"),r=jt(l),s=r[0]==="",i=nn(e);for(let c=0,u=i.length;c<u;c++){const a=i[c].route;let f=!1;if(a.default){n={route:a,params:{},uri:t};continue}const m=jt(a.path),h={},p=Math.max(r.length,m.length);let d=0;for(;d<p;d++){const _=m[d],w=r[d];if(_&&_[0]==="*"){const k=_==="*"?"*":_.slice(1);h[k]=r.slice(d).map(decodeURIComponent).join("/");break}if(typeof w>"u"){f=!0;break}const v=Oe.exec(_);if(v&&!s){const k=decodeURIComponent(w);h[v[1]]=k}else if(_!==w){f=!0;break}}if(!f){o={route:a,params:h,uri:"/"+r.slice(0,d).join("/")};break}}return o||n||null},Xt=(e,t)=>`${Ot(t==="/"?e:`${Ot(e)}/${Ot(t)}`)}/`,$e=()=>typeof window<"u"&&"document"in window&&"location"in window,on=e=>({params:e&4}),Zt=e=>({params:e[2]});function xt(e){let t,o,n,l;const r=[rn,ln],s=[];function i(c,u){return c[0]?0:1}return t=i(e),o=s[t]=r[t](e),{c(){o.c(),n=V()},m(c,u){s[t].m(c,u),P(c,n,u),l=!0},p(c,u){let a=t;t=i(c),t===a?s[t].p(c,u):(lt(),L(s[a],1,1,()=>{s[a]=null}),rt(),o=s[t],o?o.p(c,u):(o=s[t]=r[t](c),o.c()),j(o,1),o.m(n.parentNode,n))},i(c){l||(j(o),l=!0)},o(c){L(o),l=!1},d(c){c&&C(n),s[t].d(c)}}}function ln(e){let t;const o=e[8].default,n=Lt(o,e,e[7],Zt);return{c(){n&&n.c()},m(l,r){n&&n.m(l,r),t=!0},p(l,r){n&&n.p&&(!t||r&132)&&At(n,o,l,l[7],t?qt(o,l[7],r,on):It(l[7]),Zt)},i(l){t||(j(n,l),t=!0)},o(l){L(n,l),t=!1},d(l){n&&n.d(l)}}}function rn(e){let t,o,n,l={ctx:e,current:null,token:null,hasCatch:!1,pending:un,then:cn,catch:sn,value:12,blocks:[,,,]};return kt(o=e[0],l),{c(){t=V(),l.block.c()},m(r,s){P(r,t,s),l.block.m(r,l.anchor=s),l.mount=()=>t.parentNode,l.anchor=t,n=!0},p(r,s){e=r,l.ctx=e,s&1&&o!==(o=e[0])&&kt(o,l)||Ce(l,e,s)},i(r){n||(j(l.block),n=!0)},o(r){for(let s=0;s<3;s+=1){const i=l.blocks[s];L(i)}n=!1},d(r){r&&C(t),l.block.d(r),l.token=null,l=null}}}function sn(e){return{c:y,m:y,p:y,i:y,o:y,d:y}}function cn(e){var i;let t,o,n;const l=[e[2],e[3]];var r=((i=e[12])==null?void 0:i.default)||e[12];function s(c,u){let a={};for(let f=0;f<l.length;f+=1)a=ut(a,l[f]);return u!==void 0&&u&12&&(a=ut(a,Jt(l,[u&4&&_t(c[2]),u&8&&_t(c[3])]))),{props:a}}return r&&(t=Ht(r,s(e))),{c(){t&&et(t.$$.fragment),o=V()},m(c,u){t&&J(t,c,u),P(c,o,u),n=!0},p(c,u){var a;if(u&1&&r!==(r=((a=c[12])==null?void 0:a.default)||c[12])){if(t){lt();const f=t;L(f.$$.fragment,1,0,()=>{K(f,1)}),rt()}r?(t=Ht(r,s(c,u)),et(t.$$.fragment),j(t.$$.fragment,1),J(t,o.parentNode,o)):t=null}else if(r){const f=u&12?Jt(l,[u&4&&_t(c[2]),u&8&&_t(c[3])]):{};t.$set(f)}},i(c){n||(t&&j(t.$$.fragment,c),n=!0)},o(c){t&&L(t.$$.fragment,c),n=!1},d(c){c&&C(o),t&&K(t,c)}}}function un(e){return{c:y,m:y,p:y,i:y,o:y,d:y}}function an(e){let t,o,n=e[1]&&e[1].route===e[5]&&xt(e);return{c(){n&&n.c(),t=V()},m(l,r){n&&n.m(l,r),P(l,t,r),o=!0},p(l,[r]){l[1]&&l[1].route===l[5]?n?(n.p(l,r),r&2&&j(n,1)):(n=xt(l),n.c(),j(n,1),n.m(t.parentNode,t)):n&&(lt(),L(n,1,1,()=>{n=null}),rt())},i(l){o||(j(n),o=!0)},o(l){L(n),o=!1},d(l){l&&C(t),n&&n.d(l)}}}function fn(e,t,o){let n,{$$slots:l={},$$scope:r}=t,{path:s=""}=t,{component:i=null}=t,c={},u={};const{registerRoute:a,unregisterRoute:f,activeRoute:m}=Et(Tt);Y(e,m,p=>o(1,n=p));const h={path:s,default:s===""};return a(h),Ve(()=>{f(h)}),e.$$set=p=>{o(11,t=ut(ut({},t),zt(p))),"path"in p&&o(6,s=p.path),"component"in p&&o(0,i=p.component),"$$scope"in p&&o(7,r=p.$$scope)},e.$$.update=()=>{if(n&&n.route===h){o(2,c=n.params);const{component:p,path:d,..._}=t;o(3,u=_),p&&(p.toString().startsWith("class ")?o(0,i=p):o(0,i=p())),$e()&&!n.preserveScroll&&(window==null||window.scrollTo(0,0))}},t=zt(t),[i,n,c,u,m,h,s,r,l]}class $t extends ct{constructor(t){super(),st(this,t,fn,an,G,{path:6,component:0})}}const W=[];function pn(e,t){return{subscribe:Z(e,t).subscribe}}function Z(e,t=y){let o;const n=new Set;function l(i){if(G(e,i)&&(e=i,o)){const c=!W.length;for(const u of n)u[1](),W.push(u,e);if(c){for(let u=0;u<W.length;u+=2)W[u][0](W[u+1]);W.length=0}}}function r(i){l(i(e))}function s(i,c=y){const u=[i,c];return n.add(u),n.size===1&&(o=t(l,r)||y),i(e),()=>{n.delete(u),n.size===0&&o&&(o(),o=null)}}return{set:l,update:r,subscribe:s}}function dn(e,t,o){const n=!Array.isArray(e),l=n?[e]:e;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return pn(o,(s,i)=>{let c=!1;const u=[];let a=0,f=y;const m=()=>{if(a)return;f();const p=t(n?u[0]:u,s,i);r?s(p):f=ft(p)?p:y},h=l.map((p,d)=>de(p,_=>{u[d]=_,a&=~(1<<d),c&&m()},()=>{a|=1<<d}));return c=!0,m(),function(){D(h),f(),c=!1}})}const Pt=e=>({...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}),_n=e=>{const t=[];let o=Pt(e);return{get location(){return o},listen(n){t.push(n);const l=()=>{o=Pt(e),n({location:o,action:"POP"})};return e.addEventListener("popstate",l),()=>{e.removeEventListener("popstate",l);const r=t.indexOf(n);t.splice(r,1)}},navigate(n,{state:l,replace:r=!1,preserveScroll:s=!1,blurActiveElement:i=!0}={}){l={...l,key:Date.now()+""};try{r?e.history.replaceState(l,"",n):e.history.pushState(l,"",n)}catch{e.location[r?"replace":"assign"](n)}o=Pt(e),t.forEach(c=>c({location:o,action:"PUSH",preserveScroll:s})),i&&document.activeElement.blur()}}},hn=(e="/")=>{let t=0;const o=[{pathname:e,search:""}],n=[];return{get location(){return o[t]},addEventListener(l,r){},removeEventListener(l,r){},history:{get entries(){return o},get index(){return t},get state(){return n[t]},pushState(l,r,s){const[i,c=""]=s.split("?");t++,o.push({pathname:i,search:c}),n.push(l)},replaceState(l,r,s){const[i,c=""]=s.split("?");o[t]={pathname:i,search:c},n[t]=l}}}},Pe=_n($e()?window:hn()),{navigate:yt}=Pe,mn=e=>({route:e&4,location:e&2}),te=e=>({route:e[2]&&e[2].uri,location:e[1]}),gn=e=>({route:e&4,location:e&2}),ee=e=>({route:e[2]&&e[2].uri,location:e[1]});function bn(e){let t;const o=e[15].default,n=Lt(o,e,e[14],te);return{c(){n&&n.c()},m(l,r){n&&n.m(l,r),t=!0},p(l,r){n&&n.p&&(!t||r&16390)&&At(n,o,l,l[14],t?qt(o,l[14],r,mn):It(l[14]),te)},i(l){t||(j(n,l),t=!0)},o(l){L(n,l),t=!1},d(l){n&&n.d(l)}}}function kn(e){let t=e[1].pathname,o,n,l=ne(e);return{c(){l.c(),o=V()},m(r,s){l.m(r,s),P(r,o,s),n=!0},p(r,s){s&2&&G(t,t=r[1].pathname)?(lt(),L(l,1,1,y),rt(),l=ne(r),l.c(),j(l,1),l.m(o.parentNode,o)):l.p(r,s)},i(r){n||(j(l),n=!0)},o(r){L(l),n=!1},d(r){r&&C(o),l.d(r)}}}function ne(e){let t,o,n,l;const r=e[15].default,s=Lt(r,e,e[14],ee);return{c(){t=S("div"),s&&s.c()},m(i,c){P(i,t,c),s&&s.m(t,null),l=!0},p(i,c){s&&s.p&&(!l||c&16390)&&At(s,r,i,i[14],l?qt(r,i[14],c,gn):It(i[14]),ee)},i(i){l||(j(s,i),i&&ot(()=>{l&&(n&&n.end(1),o=Ye(t,e[3],{}),o.start())}),l=!0)},o(i){L(s,i),o&&o.invalidate(),i&&(n=Je(t,e[3],{})),l=!1},d(i){i&&C(t),s&&s.d(i),i&&n&&n.end()}}}function yn(e){let t,o,n,l;const r=[kn,bn],s=[];function i(c,u){return c[0]?0:1}return t=i(e),o=s[t]=r[t](e),{c(){o.c(),n=V()},m(c,u){s[t].m(c,u),P(c,n,u),l=!0},p(c,[u]){let a=t;t=i(c),t===a?s[t].p(c,u):(lt(),L(s[a],1,1,()=>{s[a]=null}),rt(),o=s[t],o?o.p(c,u):(o=s[t]=r[t](c),o.c()),j(o,1),o.m(n.parentNode,n))},i(c){l||(j(o),l=!0)},o(c){L(o),l=!1},d(c){c&&C(n),s[t].d(c)}}}function vn(e,t,o){let n,l,r,s,{$$slots:i={},$$scope:c}=t,{basepath:u="/"}=t,{url:a=null}=t,{viewtransition:f=null}=t,{history:m=Pe}=t;const h=(b,U,M)=>{const I=f(M);return typeof(I==null?void 0:I.fn)=="function"?I.fn(b,I):I};St(We,m);const p=Et(Kt),d=Et(Tt),_=Z([]);Y(e,_,b=>o(12,l=b));const w=Z(null);Y(e,w,b=>o(2,s=b));let v=!1;const k=p||Z(a?{pathname:a}:m.location);Y(e,k,b=>o(1,n=b));const E=d?d.routerBase:Z({path:u,uri:u});Y(e,E,b=>o(13,r=b));const O=dn([E,w],([b,U])=>{if(!U)return b;const{path:M}=b,{route:I,uri:Ne}=U;return{path:I.default?M:I.path.replace(/\*.*$/,""),uri:Ne}}),N=b=>{const{path:U}=r;let{path:M}=b;if(b._path=M,b.path=Xt(U,M),typeof window>"u"){if(v)return;const I=Wt([b],n.pathname);I&&(w.set(I),v=!0)}else _.update(I=>[...I,b])},q=b=>{_.update(U=>U.filter(M=>M!==b))};let R=!1;return p||(ve(()=>m.listen(U=>{o(11,R=U.preserveScroll||!1),k.set(U.location)})),St(Kt,k)),St(Tt,{activeRoute:w,base:E,routerBase:O,registerRoute:N,unregisterRoute:q}),e.$$set=b=>{"basepath"in b&&o(8,u=b.basepath),"url"in b&&o(9,a=b.url),"viewtransition"in b&&o(0,f=b.viewtransition),"history"in b&&o(10,m=b.history),"$$scope"in b&&o(14,c=b.$$scope)},e.$$.update=()=>{if(e.$$.dirty&8192){const{path:b}=r;_.update(U=>U.map(M=>Object.assign(M,{path:Xt(b,M._path)})))}if(e.$$.dirty&6146){const b=Wt(l,n.pathname);w.set(b&&{...b,preserveScroll:R})}},[f,n,s,h,_,w,k,E,u,a,m,R,l,r,c,i]}class wn extends ct{constructor(t){super(),st(this,t,vn,yn,G,{basepath:8,url:9,viewtransition:0,history:10})}}const Bt=Z("");function Sn(e){let t,o,n,l,r,s,i,c;return{c(){t=S("div"),o=S("h2"),o.textContent="Create User",n=T(),l=S("input"),r=T(),s=S("button"),s.textContent="Create User",$(l,"type","text"),$(l,"placeholder","Username"),l.required=!0,$(t,"class","user svelte-1o5243y")},m(u,a){P(u,t,a),g(t,o),g(t,n),g(t,l),nt(l,e[0]),g(t,r),g(t,s),i||(c=[A(l,"input",e[2]),A(s,"click",e[1])],i=!0)},p(u,[a]){a&1&&l.value!==u[0]&&nt(l,u[0])},i:y,o:y,d(u){u&&C(t),i=!1,D(c)}}}function Cn(e,t,o){let n="",l="";async function r(){const c=`/v1/user/create?${new URLSearchParams({username:n}).toString()}`,u=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n})});u.ok?(Bt.set(n),yt("/polls")):(l=(await u.json()).message,console.log(l))}function s(){n=this.value,o(0,n)}return[n,r,s]}class On extends ct{constructor(t){super(),st(this,t,Cn,Sn,G,{})}}function oe(e,t,o){const n=e.slice();return n[12]=t[o],n[13]=t,n[14]=o,n}function le(e){let t,o,n,l,r;function s(){e[7].call(n,e[14])}function i(...c){return e[8](e[14],...c)}return{c(){t=S("label"),t.textContent=`Option ${e[14]+1}:`,o=T(),n=S("input"),$(t,"for","option"+e[14]),$(t,"class","svelte-1d2kofc"),$(n,"type","text"),$(n,"id","option"+e[14]),n.required=!0,$(n,"class","svelte-1d2kofc")},m(c,u){P(c,t,u),P(c,o,u),P(c,n,u),nt(n,e[1][e[14]]),l||(r=[A(n,"input",s),A(n,"input",i)],l=!0)},p(c,u){e=c,u&2&&n.value!==e[1][e[14]]&&nt(n,e[1][e[14]])},d(c){c&&(C(t),C(o),C(n)),l=!1,D(r)}}}function $n(e){let t,o,n,l,r,s,i,c,u,a,f,m,h,p,d,_,w,v,k,E=H(e[1]),O=[];for(let N=0;N<E.length;N+=1)O[N]=le(oe(e,E,N));return{c(){t=S("div"),o=S("h2"),o.textContent="Create New Poll",n=T(),l=S("form"),r=S("label"),r.textContent="Question:",s=T(),i=S("input"),c=T();for(let N=0;N<O.length;N+=1)O[N].c();u=T(),a=S("button"),a.textContent="Add Another Option",f=T(),m=S("button"),m.textContent="Submit",h=T(),p=S("button"),p.textContent="Back",d=T(),_=S("p"),w=F(e[2]),$(r,"for","question"),$(r,"class","svelte-1d2kofc"),$(i,"type","text"),$(i,"id","question"),i.required=!0,$(i,"class","svelte-1d2kofc"),$(a,"type","button"),$(a,"class","svelte-1d2kofc"),$(m,"type","submit"),$(m,"class","svelte-1d2kofc"),$(p,"class","button svelte-1d2kofc"),$(l,"class","svelte-1d2kofc"),$(t,"class","poll svelte-1d2kofc")},m(N,q){P(N,t,q),g(t,o),g(t,n),g(t,l),g(l,r),g(l,s),g(l,i),nt(i,e[0]),g(l,c);for(let R=0;R<O.length;R+=1)O[R]&&O[R].m(l,null);g(l,u),g(l,a),g(l,f),g(l,m),g(l,h),g(l,p),g(l,d),g(l,_),g(_,w),v||(k=[A(i,"input",e[6]),A(a,"click",e[3]),A(m,"click",e[9]),A(p,"click",e[10]),A(l,"submit",Ae(e[5]))],v=!0)},p(N,[q]){if(q&1&&i.value!==N[0]&&nt(i,N[0]),q&18){E=H(N[1]);let R;for(R=0;R<E.length;R+=1){const b=oe(N,E,R);O[R]?O[R].p(b,q):(O[R]=le(b),O[R].c(),O[R].m(l,u))}for(;R<O.length;R+=1)O[R].d(1);O.length=E.length}q&4&&pt(w,N[2])},i:y,o:y,d(N){N&&C(t),vt(O,N),v=!1,D(k)}}}function Pn(e,t,o){let n;Y(e,Bt,d=>o(11,n=d));let l="",r=[""],s="";function i(){o(1,r=[...r,""])}function c(d,_){o(1,r[d]=_,r)}async function u(){const d={question:l,publishedAt:new Date().toISOString(),validUntil:new Date().toISOString(),creator:{username:n},options:r.map((k,E)=>({caption:k,presentationOrder:(E+1).toString()}))},w=`/v1/poll/create?${new URLSearchParams({username:n}).toString()}`,v=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(v.ok)console.log("success"),o(2,s="Poll created!");else{const k=await v.json();console.log(k.message)}}function a(){l=this.value,o(0,l)}function f(d){r[d]=this.value,o(1,r)}return[l,r,s,i,c,u,a,f,(d,_)=>c(d,_.target.value),()=>u(),()=>yt("/polls")]}class Nn extends ct{constructor(t){super(),st(this,t,Pn,$n,G,{})}}function re(e,t,o){const n=e.slice();return n[22]=t[o],n}function se(e,t,o){const n=e.slice();return n[16]=t[o],n}function ce(e,t,o){const n=e.slice();return n[19]=t[o],n}function En(e){let t,o,n,l,r;return{c(){t=S("h3"),t.textContent="No polls, create a new one to get started",o=T(),n=S("button"),n.textContent="New poll"},m(s,i){P(s,t,i),P(s,o,i),P(s,n,i),l||(r=A(n,"click",e[13]),l=!0)},p:y,d(s){s&&(C(t),C(o),C(n)),l=!1,r()}}}function Rn(e){let t;function o(r,s){return r[1]?Tn:jn}let n=o(e),l=n(e);return{c(){l.c(),t=V()},m(r,s){l.m(r,s),P(r,t,s)},p(r,s){n===(n=o(r))&&l?l.p(r,s):(l.d(1),l=n(r),l&&(l.c(),l.m(t.parentNode,t)))},d(r){r&&C(t),l.d(r)}}}function Tn(e){let t,o,n=e[1].question+"",l,r,s,i,c,u,a,f,m,h,p=H(e[1].options),d=[];for(let _=0;_<p.length;_+=1)d[_]=ie(re(e,p,_));return{c(){t=S("div"),o=S("h3"),l=F(n),r=T(),s=S("p"),s.textContent="Choose between:",i=T();for(let _=0;_<d.length;_+=1)d[_].c();c=T(),u=S("button"),u.textContent="Vote",a=T(),f=S("button"),f.textContent="Back",Mt(s,"text-align","left"),$(u,"class","button svelte-t2xvtq"),$(f,"class","button svelte-t2xvtq"),$(t,"class","poll-box svelte-t2xvtq")},m(_,w){P(_,t,w),g(t,o),g(o,l),g(t,r),g(t,s),g(t,i);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(t,null);g(t,c),g(t,u),g(t,a),g(t,f),m||(h=[A(u,"click",e[12]),A(f,"click",e[7])],m=!0)},p(_,w){if(w&2&&n!==(n=_[1].question+"")&&pt(l,n),w&286){p=H(_[1].options);let v;for(v=0;v<p.length;v+=1){const k=re(_,p,v);d[v]?d[v].p(k,w):(d[v]=ie(k),d[v].c(),d[v].m(t,c))}for(;v<d.length;v+=1)d[v].d(1);d.length=p.length}},d(_){_&&C(t),vt(d,_),m=!1,D(h)}}}function jn(e){let t,o,n,l,r,s,i,c,u=H(e[0]),a=[];for(let f=0;f<u.length;f+=1)a[f]=ae(se(e,u,f));return{c(){t=S("div"),o=S("h2"),o.textContent="Polls",n=T(),l=S("button"),l.textContent="New poll",r=T();for(let f=0;f<a.length;f+=1)a[f].c();s=V(),$(l,"class","poll-button svelte-t2xvtq"),$(t,"class","header-container svelte-t2xvtq")},m(f,m){P(f,t,m),g(t,o),g(t,n),g(t,l),P(f,r,m);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(f,m);P(f,s,m),i||(c=A(l,"click",e[9]),i=!0)},p(f,m){if(m&65){u=H(f[0]);let h;for(h=0;h<u.length;h+=1){const p=se(f,u,h);a[h]?a[h].p(p,m):(a[h]=ae(p),a[h].c(),a[h].m(s.parentNode,s))}for(;h<a.length;h+=1)a[h].d(1);a.length=u.length}},d(f){f&&(C(t),C(r),C(s)),vt(a,f),i=!1,c()}}}function Ln(e){return{c:y,m:y,p:y,d:y}}function qn(e){var r;let t,o,n=(((r=e[2][e[22].presentationOrder])==null?void 0:r.length)??0)+"",l;return{c(){t=S("p"),o=F("Votes: "),l=F(n),Mt(t,"text-align","right")},m(s,i){P(s,t,i),g(t,o),g(t,l)},p(s,i){var c;i&6&&n!==(n=(((c=s[2][s[22].presentationOrder])==null?void 0:c.length)??0)+"")&&pt(l,n)},d(s){s&&C(t)}}}function An(e){let t;return{c(){t=S("p"),t.textContent="Loading votes..."},m(o,n){P(o,t,n)},p:y,d(o){o&&C(t)}}}function ie(e){let t,o=e[22].caption+"",n,l,r,s,i,c={ctx:e,current:null,token:null,hasCatch:!1,pending:An,then:qn,catch:Ln,value:25};kt(r=e[4](e[22].presentationOrder),c);function u(){return e[11](e[22])}return{c(){t=S("div"),n=F(o),l=T(),c.block.c(),$(t,"class","vote-box svelte-t2xvtq"),Mt(t,"text-align","left"),Ft(t,"selected",e[22].presentationOrder===e[3])},m(a,f){P(a,t,f),g(t,n),g(t,l),c.block.m(t,c.anchor=null),c.mount=()=>t,c.anchor=null,s||(i=A(t,"click",u),s=!0)},p(a,f){e=a,f&2&&o!==(o=e[22].caption+"")&&pt(n,o),c.ctx=e,f&2&&r!==(r=e[4](e[22].presentationOrder))&&kt(r,c)||Ce(c,e,f),f&10&&Ft(t,"selected",e[22].presentationOrder===e[3])},d(a){a&&C(t),c.block.d(),c.token=null,c=null,s=!1,i()}}}function ue(e){let t,o=e[19].question+"",n,l,r,s,i,c;function u(){return e[10](e[19])}return{c(){t=S("div"),n=F(o),l=T(),r=S("button"),r.textContent="Choose Poll",s=T(),$(r,"class","button svelte-t2xvtq"),$(t,"class","poll-box svelte-t2xvtq")},m(a,f){P(a,t,f),g(t,n),g(t,l),g(t,r),g(t,s),i||(c=A(r,"click",u),i=!0)},p(a,f){e=a,f&1&&o!==(o=e[19].question+"")&&pt(n,o)},d(a){a&&C(t),i=!1,c()}}}function ae(e){let t,o=H(e[16]),n=[];for(let l=0;l<o.length;l+=1)n[l]=ue(ce(e,o,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();t=V()},m(l,r){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,r);P(l,t,r)},p(l,r){if(r&65){o=H(l[16]);let s;for(s=0;s<o.length;s+=1){const i=ce(l,o,s);n[s]?n[s].p(i,r):(n[s]=ue(i),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=o.length}},d(l){l&&C(t),vt(n,l)}}}function In(e){let t;function o(r,s){return r[0]&&r[0].length>0?Rn:En}let n=o(e),l=n(e);return{c(){t=S("div"),l.c(),$(t,"class","poll svelte-t2xvtq")},m(r,s){P(r,t,s),l.m(t,null)},p(r,[s]){n===(n=o(r))&&l?l.p(r,s):(l.d(1),l=n(r),l&&(l.c(),l.m(t,null)))},i:y,o:y,d(r){r&&C(t),l.d()}}}function Un(e,t,o){let n;Y(e,Bt,k=>o(14,n=k));let l=[],r=null,s={},i=null;async function c(){const E=await fetch("/v1/poll/getAll",{method:"GET",headers:{"Content-Type":"application/json"}});if(E.ok){const O=await E.json();o(0,l=O),console.log(O)}else{const O=await E.json();console.log(O.message)}}async function u(k){const O=`/v1/voteOption/get?${new URLSearchParams({pollId:r.id,presentationOrder:k}).toString()}`,N=await fetch(O,{method:"GET",headers:{"Content-Type":"application/json"}});if(N.ok){const q=await N.json();o(2,s[k]=q.votes||[],s)}else{const q=await N.json();console.log(q.message)}}async function a(k,E){const O=new URLSearchParams({username:n,pollId:k,voteOption:E});console.log("vote"+n);const N=`/v1/vote/vote?${O.toString()}`,q=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json"}});if(q.ok){console.log("Success");for(const R of r.options)await u(R.presentationOrder)}else{const R=q.json();console.log(R.message)}}function f(k){for(const E of l)for(const O of E)if(O.id===k){o(1,r=O);return}o(1,r=null)}function m(){o(1,r=null)}function h(k){o(3,i=k),console.log(i)}return ve(()=>{c()}),[l,r,s,i,u,a,f,m,h,()=>yt("/create-poll"),k=>f(k.id),k=>h(k.presentationOrder),()=>a(r.id,i),()=>yt("/create-poll")]}class Mn extends ct{constructor(t){super(),st(this,t,Un,In,G,{})}}function Dn(e){let t,o,n,l,r,s;return t=new $t({props:{path:"/",component:On,exact:!0}}),n=new $t({props:{path:"/polls",component:Mn}}),r=new $t({props:{path:"/create-poll",component:Nn}}),{c(){et(t.$$.fragment),o=T(),et(n.$$.fragment),l=T(),et(r.$$.fragment)},m(i,c){J(t,i,c),P(i,o,c),J(n,i,c),P(i,l,c),J(r,i,c),s=!0},p:y,i(i){s||(j(t.$$.fragment,i),j(n.$$.fragment,i),j(r.$$.fragment,i),s=!0)},o(i){L(t.$$.fragment,i),L(n.$$.fragment,i),L(r.$$.fragment,i),s=!1},d(i){i&&(C(o),C(l)),K(t,i),K(n,i),K(r,i)}}}function Bn(e){let t,o;return t=new wn({props:{$$slots:{default:[Dn]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(n,l){J(t,n,l),o=!0},p(n,[l]){const r={};l&1&&(r.$$scope={dirty:l,ctx:n}),t.$set(r)},i(n){o||(j(t.$$.fragment,n),o=!0)},o(n){L(t.$$.fragment,n),o=!1},d(n){K(t,n)}}}class Vn extends ct{constructor(t){super(),st(this,t,null,Bn,G,{})}}new Vn({target:document.getElementById("app")});
